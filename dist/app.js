/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./router.js */ \"./src/router.js\");\n\n\nclass App {\n    constructor() {\n        new _router_js__WEBPACK_IMPORTED_MODULE_0__.Router()\n    }\n}\n\n(new App())\n\n\n//# sourceURL=webpack://frontend/./src/app.js?");

/***/ }),

/***/ "./src/components/auth/login.js":
/*!**************************************!*\
  !*** ./src/components/auth/login.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Login: () => (/* binding */ Login)\n/* harmony export */ });\n/* harmony import */ var _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/http-utils */ \"./src/utils/http-utils.js\");\n/* harmony import */ var _utils_password_eye__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/password-eye */ \"./src/utils/password-eye.js\");\n/* harmony import */ var _utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/auth-utils */ \"./src/utils/auth-utils.js\");\n\n\n\n\n\nclass Login {\n    constructor(openNewRoute) {\n        this.openNewRoute = openNewRoute\n\n        if (_utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__.AuthUtils.getAuthInfo(_utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__.AuthUtils.accessTokenKey)) {\n            return this.openNewRoute('/')\n        }\n\n        this.emailElement = document.getElementById('email')\n        this.passwordElement = document.getElementById('password')\n        this.rememberMeElement = document.getElementById('remember-me')\n        this.commonErrorElement = document.getElementById('common-error')\n\n        _utils_password_eye__WEBPACK_IMPORTED_MODULE_1__.PasswordEye.passwordEye()\n\n        document.getElementById('process-button').addEventListener('click', this.login.bind(this))\n    }\n\n    validateForm() {\n        let isValid = true\n        if (this.emailElement.value && this.emailElement.value.match(/^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/)) {\n            this.emailElement.classList.remove('is-invalid')\n        } else {\n            this.emailElement.classList.add('is-invalid')\n            isValid = false\n        }\n        if (this.passwordElement.value) {\n            this.passwordElement.classList.remove('is-invalid')\n        } else {\n            this.passwordElement.classList.add('is-invalid')\n            isValid = false\n        }\n\n        return isValid\n    }\n\n    async login() {\n        this.commonErrorElement.style.display = 'none'\n        if (this.validateForm()) {\n            const result = await _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__.HttpUtils.request('/login', 'POST', false,{\n                email: this.emailElement.value,\n                password: this.passwordElement.value,\n                rememberMe: this.rememberMeElement.checked\n            })\n\n            if (result.error || !result.response || (result.response && (!result.response.tokens.accessToken || !result.response.tokens.refreshToken))) {\n                this.commonErrorElement.style.display = 'block'\n                return\n            }\n            _utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__.AuthUtils.setAuthInfo(result.response.tokens.accessToken, result.response.tokens.refreshToken, {id: result.response.user.id, name: result.response.user.name, lastName: result.response.user.lastName})\n\n            this.openNewRoute('/')\n\n        }\n    }\n}\n\n//# sourceURL=webpack://frontend/./src/components/auth/login.js?");

/***/ }),

/***/ "./src/components/auth/logout.js":
/*!***************************************!*\
  !*** ./src/components/auth/logout.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Logout: () => (/* binding */ Logout)\n/* harmony export */ });\n/* harmony import */ var _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/http-utils */ \"./src/utils/http-utils.js\");\n/* harmony import */ var _utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/auth-utils */ \"./src/utils/auth-utils.js\");\n\n\n\n\n\nclass Logout {\n    constructor(openNewRoute) {\n        this.openNewRoute = openNewRoute\n\n        if (!_utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.getAuthInfo(_utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.accessTokenKey) || !_utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.getAuthInfo(_utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.refreshTokenKey)) {\n            return this.openNewRoute('/login')\n        }\n        this.logout().then()\n    }\n\n    async logout() {\n        await _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__.HttpUtils.request('/logout', 'POST', false,{\n            refreshToken: _utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.getAuthInfo(_utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.refreshTokenKey)\n        })\n        _utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__.AuthUtils.removeAuthInfo()\n\n        this.openNewRoute('/login')\n    }\n\n}\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://frontend/./src/components/auth/logout.js?");

/***/ }),

/***/ "./src/components/auth/sign-up.js":
/*!****************************************!*\
  !*** ./src/components/auth/sign-up.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SignUp: () => (/* binding */ SignUp)\n/* harmony export */ });\n/* harmony import */ var _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/http-utils */ \"./src/utils/http-utils.js\");\n/* harmony import */ var _utils_password_eye__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/password-eye */ \"./src/utils/password-eye.js\");\n/* harmony import */ var _utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/auth-utils */ \"./src/utils/auth-utils.js\");\n\n\n\n\n\nclass SignUp {\n    constructor(openNewRoute) {\n        this.openNewRoute = openNewRoute;\n\n        if (_utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__.AuthUtils.getAuthInfo(_utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__.AuthUtils.accessTokenKey)) {\n            return this.openNewRoute('/');\n        }\n\n\n        this.userNameElement = document.getElementById('user-name');\n        this.emailElement = document.getElementById('email');\n        this.passwordElement = document.getElementById('password');\n        this.passwordRepeatElement = document.getElementById('password-repeat');\n\n\n        _utils_password_eye__WEBPACK_IMPORTED_MODULE_1__.PasswordEye.passwordEye()\n\n\n        document.getElementById('process-button').addEventListener('click', this.signUp.bind(this));\n    }\n\n    validateForm() {\n        let isValid = true\n\n        if (this.userNameElement.value && this.userNameElement.value.match(/^(?:[А-Я][а-я]{2,}(?: [А-Я][а-я]*)*)$/)) {\n            this.userNameElement.classList.remove('is-invalid');\n        } else {\n            this.userNameElement.classList.add('is-invalid');\n            isValid = false;\n        }\n\n        if (this.emailElement.value && this.emailElement.value.match(/^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/)) {\n            this.emailElement.classList.remove('is-invalid')\n        } else {\n            this.emailElement.classList.add('is-invalid')\n            isValid = false\n        }\n\n\n        if (this.passwordElement.value && this.passwordElement.value.match(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/)) { // Not fact\n            this.passwordElement.classList.remove('is-invalid')\n        } else {\n            this.passwordElement.classList.add('is-invalid')\n            isValid = false\n        }\n\n        if (this.passwordRepeatElement.value && this.passwordElement.value === this.passwordRepeatElement.value) {\n            this.passwordRepeatElement.classList.remove('is-invalid')\n        } else {\n            this.passwordRepeatElement.classList.add('is-invalid')\n            isValid = false\n        }\n\n        return isValid;\n    }\n\n    async signUp() {\n\n        if (this.validateForm()) {\n            const result = await _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__.HttpUtils.request('/signup', 'POST', false, {\n                name: this.userNameElement.value.split(' ')[1],\n                lastName: this.userNameElement.value.split(' ')[0],\n                email: this.emailElement.value,\n                password: this.passwordElement.value,\n                passwordRepeat: this.passwordRepeatElement.value\n            })\n\n            if (result.error || !result.response || (result.response && (!result.response.user.id || !result.response.user.email || !result.response.user.name || !result.response.user.lastName))) {\n                return\n            }\n\n            if (result.response){\n                const req = await _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__.HttpUtils.request('/login', 'POST', false,{\n                    email: this.emailElement.value,\n                    password: this.passwordElement.value,\n                    rememberMe: true\n                })\n                _utils_auth_utils__WEBPACK_IMPORTED_MODULE_2__.AuthUtils.setAuthInfo(req.response.tokens.accessToken, req.response.tokens.refreshToken, {id: req.response.user.id, name: result.response.user.name, lastName: req.response.user.lastName})\n\n            }\n            this.openNewRoute('/')\n        }\n    }\n}\n\n//# sourceURL=webpack://frontend/./src/components/auth/sign-up.js?");

/***/ }),

/***/ "./src/components/income/income.js":
/*!*****************************************!*\
  !*** ./src/components/income/income.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Income: () => (/* binding */ Income)\n/* harmony export */ });\n/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config/config */ \"./src/config/config.js\");\n/* harmony import */ var _utils_http_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/http-utils */ \"./src/utils/http-utils.js\");\n\n\n\nclass Income{\n    constructor(openNewRoute){\n        this.openNewRoute = openNewRoute;\n\n        this.incomeCategoriesElement = document.getElementById('income-categories')\n\n        this.loadIncomeCategories().then()\n    }\n\n    async loadIncomeCategories(){\n        const incomeCategories = await _utils_http_utils__WEBPACK_IMPORTED_MODULE_1__.HttpUtils.request('/categories/income', 'GET', true)\n        console.log(incomeCategories)\n        this.incomeCategoriesElement.innerHTML = ''\n        incomeCategories.response.forEach(incomeCategory => {\n            console.log(incomeCategory)\n            const incomeCategoryElement = document.createElement('div')\n            incomeCategoryElement.classList.add('border', 'border-light-subtle', 'rounded-3', 'p-3')\n            const incomeCategoryTitleElement = document.createElement('h3')\n            incomeCategoryTitleElement.classList.add('mb-3', 'fw-bold')\n            incomeCategoryTitleElement.innerText = incomeCategory.title\n            const incomeCategoryEditElement = document.createElement('a')\n            incomeCategoryEditElement.classList.add('btn', 'btn-primary', 'me-1', 'mb-1')\n            incomeCategoryEditElement.innerText = 'Редактировать'\n            incomeCategoryEditElement.href = '/income/edit?id=' + incomeCategory.id\n            const incomeCategoryDeleteElement = document.createElement('button')\n            incomeCategoryDeleteElement.classList.add('btn', 'btn-danger', 'me-5')\n            incomeCategoryDeleteElement.innerText = 'Удалить'\n            incomeCategoryDeleteElement.dataset.bsToggle = 'modal'\n            incomeCategoryDeleteElement.dataset.bsTarget = '#deleteIncomeCategoryLabel'\n\n            incomeCategoryElement.appendChild(incomeCategoryTitleElement)\n            incomeCategoryElement.appendChild(incomeCategoryEditElement)\n            incomeCategoryElement.appendChild(incomeCategoryDeleteElement)\n\n            this.incomeCategoriesElement.appendChild(incomeCategoryElement)\n\n        })\n\n        const incomeCategoryAddElement = document.createElement('div')\n        incomeCategoryAddElement.classList.add('border', 'border-light-subtle', 'rounded-3', 'p-3', 'd-flex', 'align-items-center', 'justify-content-center')\n        incomeCategoryAddElement.style.width = '320px'\n        incomeCategoryAddElement.style.cursor = 'pointer'\n        incomeCategoryAddElement.style.height = '120px'\n        incomeCategoryAddElement.innerText = '+'\n\n        incomeCategoryAddElement.addEventListener('click', () => {\n            this.openNewRoute('/create')\n        })\n\n        this.incomeCategoriesElement.appendChild(incomeCategoryAddElement)\n\n\n    }\n}\n\n//# sourceURL=webpack://frontend/./src/components/income/income.js?");

/***/ }),

/***/ "./src/components/layout.js":
/*!**********************************!*\
  !*** ./src/components/layout.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Layout: () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/http-utils */ \"./src/utils/http-utils.js\");\n/* harmony import */ var _utils_auth_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/auth-utils */ \"./src/utils/auth-utils.js\");\n/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config/config */ \"./src/config/config.js\");\n\n\n\n\nclass Layout {\n    constructor(openNewRoute) {\n        this.openNewRoute = openNewRoute;\n        this.burgerTabElement = document.getElementById('burgerTab')\n        this.burgerMenuElement = document.getElementById('burgerMenu')\n        this.burgerElement = document.getElementById('burger')\n        this.balanceElement = document.getElementById('balance')\n        this.balanceBlockElement = document.getElementById('balanceBlock')\n        this.profileElement = document.getElementById('profile')\n        this.balanceInputElement = document.getElementById('balanceInput')\n        this.saveBalanceButtonElement = document.getElementById('saveBalanceButton')\n\n        this.initEvent()\n    }\n\n    initEvent() {\n        this.addBurgerMenuEventListener()\n        this.saveBalanceButtonElement.addEventListener('click', this.saveBalance.bind(this));\n\n        this.getBalance().then()\n    }\n\n    addBurgerMenuEventListener() {\n        if (this.burgerMenuElement && this.burgerTabElement) {\n            this.burgerTabElement.addEventListener('click', this.toggleBurgerMenu.bind(this))\n        }\n    }\n\n    toggleBurgerMenu() {\n        if (this.burgerMenuElement) {\n            this.burgerMenuElement.classList.toggle('d-none')\n            this.burgerElement.classList.toggle('open')\n            this.balanceBlockElement.classList.toggle('d-none')\n            this.profileElement.classList.toggle('d-none')\n        }\n    }\n\n    async getBalance() {\n        const result = await _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__.HttpUtils.request('/balance')\n        if (result.redirect) {\n            this.openNewRoute(result.redirect);\n        }\n\n        this.balanceElement.innerText = ' ' + result.response.balance + ' $'\n    }\n\n    async saveBalance() {\n        const result = await _utils_http_utils__WEBPACK_IMPORTED_MODULE_0__.HttpUtils.request('/balance', 'PUT', true, {newBalance: this.balanceInputElement.value})\n        if (result.error) {\n            return\n        }\n        this.balanceElement.innerText = ' ' + result.response.balance + ' $'\n    }\n}\n\n//# sourceURL=webpack://frontend/./src/components/layout.js?");

/***/ }),

/***/ "./src/components/main.js":
/*!********************************!*\
  !*** ./src/components/main.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Main: () => (/* binding */ Main)\n/* harmony export */ });\nclass Main {\n    constructor() {\n        this.incomeChartElement = document.getElementById('incomeChart')\n        this.expenseChartElement = document.getElementById('expenseChart')\n        this.myChart()\n    }\n\n    myChart() {\n        new Chart(this.incomeChartElement, {\n            type: 'pie',\n            data: {\n                labels: [\n                    'Red',\n                    'Orange',\n                    'Yellow',\n                    'Green',\n                    'Blue',\n                ],\n                datasets: [{\n                    label: 'My First Dataset',\n                    data: [100, 40, 30, 400, 120],\n                    backgroundColor: [\n                        'rgb(220,53,69)',\n                        'rgb(253,126,20)',\n                        'rgb(255,193,7)',\n                        'rgb(32,201,151)',\n                        'rgb(13,110,253)',\n                    ],\n                    hoverOffset: 4\n                }]\n            },\n        })\n\n        new Chart(this.expenseChartElement, {\n            type: 'pie',\n            data: {\n                labels: [\n                    'Red',\n                    'Orange',\n                    'Yellow',\n                    'Green',\n                    'Blue',\n                ],\n                datasets: [{\n                    label: 'My First Dataset',\n                    data: [300, 50, 100, 40, 120],\n                    backgroundColor: [\n                        'rgb(220,53,69)',\n                        'rgb(253,126,20)',\n                        'rgb(255,193,7)',\n                        'rgb(32,201,151)',\n                        'rgb(13,110,253)',\n                    ],\n                    hoverOffset: 4\n                }]\n            },\n        })\n\n\n\n\n\n    }\n\n\n}\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://frontend/./src/components/main.js?");

/***/ }),

/***/ "./src/config/config.js":
/*!******************************!*\
  !*** ./src/config/config.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n    host: 'http://localhost:3000/api'\n});\n\n//# sourceURL=webpack://frontend/./src/config/config.js?");

/***/ }),

/***/ "./src/router.js":
/*!***********************!*\
  !*** ./src/router.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Router: () => (/* binding */ Router)\n/* harmony export */ });\n/* harmony import */ var _components_auth_login__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/auth/login */ \"./src/components/auth/login.js\");\n/* harmony import */ var _components_main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/main */ \"./src/components/main.js\");\n/* harmony import */ var _components_auth_sign_up__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/auth/sign-up */ \"./src/components/auth/sign-up.js\");\n/* harmony import */ var _components_income_income__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/income/income */ \"./src/components/income/income.js\");\n/* harmony import */ var _utils_file_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/file-utils */ \"./src/utils/file-utils.js\");\n/* harmony import */ var _components_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/layout */ \"./src/components/layout.js\");\n/* harmony import */ var _utils_password_eye__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/password-eye */ \"./src/utils/password-eye.js\");\n/* harmony import */ var _components_auth_logout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/auth/logout */ \"./src/components/auth/logout.js\");\n/* harmony import */ var _utils_auth_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/auth-utils */ \"./src/utils/auth-utils.js\");\n/* harmony import */ var _utils_http_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils/http-utils */ \"./src/utils/http-utils.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nclass Router {\n    constructor() {\n        this.titleElement = document.getElementById('title')\n        this.contentPageElement = document.getElementById('content')\n\n        this.initEvents()\n\n\n        this.routes = [\n            {\n                route: '/',\n                title: 'Главная',\n                template: 'templates/main.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n                    new _components_main__WEBPACK_IMPORTED_MODULE_1__.Main()\n\n                },\n                scripts: ['chart.umd.js']\n            },\n            {\n                route: '/login',\n                title: 'Вход в систему',\n                template: 'templates/auth/login.html',\n                styles: 'style/style.css',\n                useLayout: false,\n                load: () => {\n                    new _components_auth_login__WEBPACK_IMPORTED_MODULE_0__.Login(this.openNewRoute.bind(this))\n                    new _utils_password_eye__WEBPACK_IMPORTED_MODULE_6__.PasswordEye()\n                }\n            },\n            {\n                route: '/sign-up',\n                title: 'Регистрация',\n                template: 'templates/auth/sign-up.html',\n                styles: 'style/style.css',\n                useLayout: false,\n                load: () => {\n                    new _components_auth_sign_up__WEBPACK_IMPORTED_MODULE_2__.SignUp(this.openNewRoute.bind(this))\n                }\n            },\n            {\n                route: '/logout',\n                load: () => {\n                    new _components_auth_logout__WEBPACK_IMPORTED_MODULE_7__.Logout(this.openNewRoute.bind(this))\n                }\n            },\n            {\n                route: '/income',\n                title: 'Доходы',\n                template: 'templates/income/income.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n                    new _components_income_income__WEBPACK_IMPORTED_MODULE_3__.Income(this.openNewRoute.bind(this))\n                }\n            },\n            {\n                route: '/income/create',\n                title: 'Создание доходов',\n                template: 'templates/income/create.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/income/edit',\n                title: 'Редактирование доходов',\n                template: 'templates/income/edit.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/expense',\n                title: 'Расходы',\n                template: 'templates/expense/expense.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/create-expense',\n                title: 'Создание расходов',\n                template: 'templates/expense/create-expense.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/edit-expense',\n                title: 'Редактирование расходов',\n                template: 'templates/expense/edit-expense.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/balancing',\n                title: 'Доходы и расходы',\n                template: 'templates/income-and-expense/balancing.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/create-income-table',\n                title: 'Создание дохода',\n                template: 'templates/income-and-expense/create-income-table.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/edit-income-table',\n                title: 'Редактирование дохода',\n                template: 'templates/income-and-expense/edit-income-table.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/create-expense-table',\n                title: 'Создание расхода',\n                template: 'templates/income-and-expense/create-expense-table.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n            {\n                route: '/edit-expense-table',\n                title: 'Редактирование расхода',\n                template: 'templates/income-and-expense/edit-expense-table.html',\n                styles: 'style/style.css',\n                useLayout: '/templates/layout.html',\n                load: () => {\n\n                }\n            },\n        ]\n    }\n\n    initEvents() {\n        window.addEventListener('DOMContentLoaded', this.activateRoute.bind(this))\n        window.addEventListener('popstate', this.activateRoute.bind(this))\n        document.addEventListener('click', this.clickHandler.bind(this));\n\n    }\n\n\n    async openNewRoute(url) {\n        const currentRoute = window.location.pathname\n        history.pushState({}, '', url)\n        await this.activateRoute(null, currentRoute)\n\n    }\n\n    async clickHandler(e) {\n        let element = null\n        if (e.target.nodeName === 'A') {\n            element = e.target\n        } else if (e.target.parentNode.nodeName === 'A') {\n            element = e.target.parentNode\n        }\n        if (element) {\n            e.preventDefault()\n            const currentRoute = window.location.pathname\n            const url = element.href.replace(window.location.origin, '')\n\n            if (!url || (currentRoute === url.replace('#submenu1', '')) || url === '/#' || url === '#submenu1' || url.startsWith('javascript:void(0)')) {\n                return\n            }\n\n            await this.openNewRoute(url)\n        }\n\n    }\n\n    async activateRoute(e, oldRoute = null) {\n        if (oldRoute){\n            const currentRoute = this.routes.find(item => item.route === oldRoute)\n            if (currentRoute.scripts && currentRoute.scripts.length > 0) {\n                currentRoute.scripts.forEach(script => {\n                    document.querySelector(`script[src='/js/${script}']`).remove()\n                })\n            }\n        }\n        const urlRoute = window.location.pathname\n        const newRoute = this.routes.find(item => item.route === urlRoute)\n\n        if (newRoute){\n            if (newRoute.scripts && newRoute.scripts.length > 0) {\n                for (const script of newRoute.scripts) {\n                    await _utils_file_utils__WEBPACK_IMPORTED_MODULE_4__.FileUtils.loadPageScript('/js/' + script)\n                }\n            }\n            if (newRoute.title){\n                this.titleElement.innerText = newRoute.title + ' | Lumincoin Finance'\n            }\n            if (newRoute.template){\n                let contentBlock = this.contentPageElement\n                if (newRoute.useLayout) {\n                    this.contentPageElement.innerHTML = await fetch(newRoute.useLayout).then(response => response.text())\n                    contentBlock = document.getElementById('content-layout')\n                    new _components_layout__WEBPACK_IMPORTED_MODULE_5__.Layout(this.openNewRoute.bind(this))\n                    this.profileNameElement = document.getElementById('profileName')\n                    if (!this.userName) {\n                        let userInfo = _utils_auth_utils__WEBPACK_IMPORTED_MODULE_8__.AuthUtils.getAuthInfo(_utils_auth_utils__WEBPACK_IMPORTED_MODULE_8__.AuthUtils.userInfoKey)\n\n                        if (userInfo) {\n                            userInfo = JSON.parse(userInfo)\n                            if (userInfo && userInfo.name) {\n                                this.userName = userInfo.name + ' ' + userInfo.lastName\n                            }\n                        } else {\n                            console.log('no user info')\n\n                        }\n                    }\n                    this.profileNameElement.innerText = this.userName\n                    this.activateMenuItem(newRoute)\n                }\n                contentBlock.innerHTML = await fetch(newRoute.template).then(response => response.text())\n                console.log(newRoute.template)\n                console.log(contentBlock)\n            }\n\n            if (newRoute.load && typeof newRoute.load === 'function'){\n                newRoute.load()\n            }\n        }else{\n            console.log('404')\n            alert('404')\n            return\n        }\n    }\n    activateMenuItem(route) {\n        document.querySelectorAll('.nav-link').forEach(item => {\n            const href = item.getAttribute('href');\n            if ((route.route.includes(href) && href !== '/') || (route.route === '/' && href === '/')) {\n                item.classList.add('active', 'text-white');\n            } else {\n                item.classList.remove('active', 'text-white');\n            }\n        });\n\n        const categoryLink = document.querySelector('a[href=\"#submenu1\"]');\n        const submenu = document.getElementById('submenu1');\n        categoryLink.addEventListener('click', () =>{\n            categoryLink.classList.toggle('active')\n            categoryLink.classList.toggle('text-white');\n\n        })\n        if (route.route.includes('/income') || route.route.includes('/expense')) {\n            submenu.classList.add('show')\n            categoryLink.classList.add('active','text-white')\n            document.querySelectorAll('#submenu1 .nav-link').forEach(subItem => {\n                const subHref = subItem.getAttribute('href');\n                if (route.route.includes(subHref)) {\n                    subItem.classList.add('active', 'text-white');\n                } else {\n                    subItem.classList.remove('active', 'text-white');\n                }\n            });\n        } else {\n            categoryLink.classList.remove('active', 'text-white');\n            submenu.classList.remove('show');\n        }\n    }\n\n}\n\n//# sourceURL=webpack://frontend/./src/router.js?");

/***/ }),

/***/ "./src/utils/auth-utils.js":
/*!*********************************!*\
  !*** ./src/utils/auth-utils.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthUtils: () => (/* binding */ AuthUtils)\n/* harmony export */ });\n/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/config */ \"./src/config/config.js\");\n\n\n\nclass AuthUtils {\n    static accessTokenKey = 'accessToken'\n    static refreshTokenKey = 'refreshToken'\n    static userInfoKey = 'userInfo'\n\n    static setAuthInfo(accessToken, refreshToken, userInfo = null) {\n        localStorage.setItem(this.accessTokenKey, accessToken)\n        localStorage.setItem(this.refreshTokenKey, refreshToken)\n        if (userInfo){\n            localStorage.setItem(this.userInfoKey, JSON.stringify(userInfo))\n        }\n    }\n\n    static removeAuthInfo() {\n        localStorage.removeItem(this.accessTokenKey)\n        localStorage.removeItem(this.refreshTokenKey)\n        localStorage.removeItem(this.userInfoKey)\n    }\n\n\n    static getAuthInfo(key = null) {\n        if (key && [this.accessTokenKey, this.refreshTokenKey, this.userInfoKey].includes(key)) {\n            return localStorage.getItem(key)\n        } else {\n            return {\n                [this.accessTokenKey]: localStorage.getItem(this.accessTokenKey),\n                [this.refreshTokenKey]: localStorage.getItem(this.refreshTokenKey),\n                [this.userInfoKey]: JSON.parse(localStorage.getItem(this.userInfoKey))\n            }\n        }\n    }\n\n    static async updateRefreshToken() {\n        let result = false\n        const refreshToken = this.getAuthInfo(this.refreshTokenKey)\n        if (refreshToken) {\n            const response = await fetch(_config_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"].api + '/refresh', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json',\n                },\n                body: JSON.stringify({\n                    refreshToken: refreshToken\n                })\n            })\n            if (response && response.status === 200) {\n                const tokens = await response.json()\n                if (tokens && !tokens.error) {\n                    this.setAuthInfo(tokens.accessToken, tokens.refreshToken)\n                    result = true\n                }\n            }\n        }\n        if (!result) {\n            this.removeAuthInfo()\n        }\n        return result\n\n    }\n\n}\n\n//# sourceURL=webpack://frontend/./src/utils/auth-utils.js?");

/***/ }),

/***/ "./src/utils/file-utils.js":
/*!*********************************!*\
  !*** ./src/utils/file-utils.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileUtils: () => (/* binding */ FileUtils)\n/* harmony export */ });\nclass FileUtils{\n    static loadPageScript(src){\n        return new Promise((resolve, reject) => {\n            const script = document.createElement('script')\n            script.src = src\n            script.onload = () =>{\n                resolve('Script loaded: ' + src)\n            }\n            script.onerror = () =>{\n                reject(new Error('Script load error: ' + src))\n            }\n            document.body.appendChild(script)\n        })\n    }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://frontend/./src/utils/file-utils.js?");

/***/ }),

/***/ "./src/utils/http-utils.js":
/*!*********************************!*\
  !*** ./src/utils/http-utils.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpUtils: () => (/* binding */ HttpUtils)\n/* harmony export */ });\n/* harmony import */ var _auth_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth-utils */ \"./src/utils/auth-utils.js\");\n/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/config */ \"./src/config/config.js\");\n\n\n\n\n\nclass HttpUtils{\n    static async request(url, method = 'GET', useAuth = true, body = null) {\n        const result = {\n            error: false,\n            response: null,\n            redirect: null\n        }\n\n\n        const params = {\n            method: method,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n\n            },\n        }\n        let token = null\n        if (useAuth){\n            token = _auth_utils__WEBPACK_IMPORTED_MODULE_0__.AuthUtils.getAuthInfo(_auth_utils__WEBPACK_IMPORTED_MODULE_0__.AuthUtils.accessTokenKey)\n\n            if (token){\n                params.headers['x-auth-token'] = token\n            }\n        }\n        if (body){\n            params.body = JSON.stringify(body)\n        }\n\n        let response = null\n        try {\n            response = await fetch(_config_config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].host + url, params)\n            result.response = await response.json()\n        } catch (e){\n            result.error = true\n            return  result\n        }\n\n        if (response.status < 200 || response.status >= 300) {\n            result.error = true\n            if (useAuth && response.status === 401){\n                if (!token){\n                    // 1 токена нет\n                    result.redirect = '/login'\n                } else {\n                    // 2 токена устарел/невалидный (надо обновить)\n                    const updatedTokenResult = await _auth_utils__WEBPACK_IMPORTED_MODULE_0__.AuthUtils.updateRefreshToken()\n\n                    if (updatedTokenResult){\n                        // запрос повторно\n                        return this.request(url, method, useAuth, body)\n                    }else {\n                        result.redirect = '/login'\n                    }\n\n\n                }\n\n\n            }\n        }\n        return result\n    }\n}\n\n//# sourceURL=webpack://frontend/./src/utils/http-utils.js?");

/***/ }),

/***/ "./src/utils/password-eye.js":
/*!***********************************!*\
  !*** ./src/utils/password-eye.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PasswordEye: () => (/* binding */ PasswordEye)\n/* harmony export */ });\nclass PasswordEye {\n    static passwordEye() {\n        const buttonsTogglePassword = document.querySelectorAll('.togglePassword');\n\n        const password = document.querySelector('#password');\n\n        buttonsTogglePassword.forEach(togglePassword => {\n            togglePassword.addEventListener('click',  (e) => {\n                const password = togglePassword.previousElementSibling\n                const type = password.getAttribute('type') === 'password' ? 'text' : 'password';\n                password.setAttribute('type', type);\n\n                const icon = togglePassword.querySelector('i');\n                icon.classList.toggle('bi-eye');\n                icon.classList.toggle('bi-eye-slash');\n                togglePassword.classList.toggle('active');\n\n\n                if (type === 'text') {\n                    setTimeout(() => {\n                        password.setAttribute('type', 'password');\n                        icon.classList.toggle('bi-eye');\n                        icon.classList.toggle('bi-eye-slash');\n                        togglePassword.classList.toggle('active');\n                    }, 1000)\n                }\n            });\n\n        })\n\n    }\n\n}\n\n//# sourceURL=webpack://frontend/./src/utils/password-eye.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/app.js");
/******/ 	
/******/ })()
;